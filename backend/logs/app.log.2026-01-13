2026-01-13 20:50:15 - main - INFO - 应用正在关闭...
2026-01-13 20:50:16 - main - INFO - 正在初始化数据库...
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:50:16 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:17 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:50:17 - main - INFO - 数据库初始化完成
2026-01-13 20:50:18 - main - INFO - 应用正在关闭...
2026-01-13 20:50:19 - main - INFO - 正在初始化数据库...
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:50:19 - main - INFO - 数据库初始化完成
2026-01-13 20:50:20 - main - INFO - 应用正在关闭...
2026-01-13 20:50:21 - main - INFO - 正在初始化数据库...
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:50:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:50:21 - main - INFO - 数据库初始化完成
2026-01-13 20:56:09 - main - INFO - 应用正在关闭...
2026-01-13 20:56:11 - main - INFO - 正在初始化数据库...
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:11 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:56:11 - main - INFO - 数据库初始化完成
2026-01-13 20:56:45 - main - INFO - 应用正在关闭...
2026-01-13 20:56:46 - main - INFO - 正在初始化数据库...
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:56:46 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:56:46 - main - INFO - 数据库初始化完成
2026-01-13 20:57:58 - main - INFO - 应用正在关闭...
2026-01-13 20:57:59 - main - INFO - 正在初始化数据库...
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:57:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:57:59 - main - INFO - 数据库初始化完成
2026-01-13 20:58:29 - main - INFO - 应用正在关闭...
2026-01-13 20:58:30 - main - INFO - 正在初始化数据库...
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 20:58:30 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 20:58:30 - main - INFO - 数据库初始化完成
2026-01-13 21:02:44 - main - INFO - 应用正在关闭...
2026-01-13 21:02:49 - main - INFO - 正在初始化数据库...
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:02:49 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:02:49 - main - INFO - 数据库初始化完成
2026-01-13 21:14:45 - main - INFO - 应用正在关闭...
2026-01-13 21:14:48 - main - INFO - 正在初始化数据库...
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:14:48 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:14:48 - main - INFO - 数据库初始化完成
2026-01-13 21:15:17 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('875401@qq.com',)
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('875401@qq.com', 'register')
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (datetime.datetime(2026, 1, 13, 21, 15, 17, 367504), '875401@qq.com', 'register')
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('875401@qq.com', 'register', 'd041f0ef2f7bae1dc23a9f3285449ddc951cd305a47b52b5773b5b5803f7063b', datetime.datetime(2026, 1, 13, 21, 25, 17, 367504), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 21, 15, 17, 367504))
2026-01-13 21:15:17 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:15:17 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:15:17 - main - ERROR - 未处理的异常: One or more source or delivery addresses require internationalized email support, but the server does not advertise the required SMTPUTF8 capability
Traceback (most recent call last):
  File "/root/miniconda3/envs/aioffer/lib/python3.12/smtplib.py", line 958, in send_message
    ''.join([from_addr, *to_addrs]).encode('ascii')
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-16: ordinal not in range(128)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/routing.py", line 69, in app
    await response(scope, receive, send)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/background.py", line 43, in __call__
    await task()
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/miniconda3/envs/aioffer/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/aioffer/backend/routers/auth.py", line 140, in send_email_code_smtp
    server.send_message(msg)
  File "/root/miniconda3/envs/aioffer/lib/python3.12/smtplib.py", line 961, in send_message
    raise SMTPNotSupportedError(
smtplib.SMTPNotSupportedError: One or more source or delivery addresses require internationalized email support, but the server does not advertise the required SMTPUTF8 capability
2026-01-13 21:21:32 - main - INFO - 应用正在关闭...
2026-01-13 21:21:33 - main - INFO - 正在初始化数据库...
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:33 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:21:33 - main - INFO - 数据库初始化完成
2026-01-13 21:21:40 - main - INFO - 应用正在关闭...
2026-01-13 21:21:43 - main - INFO - 正在初始化数据库...
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:21:43 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:21:43 - main - INFO - 数据库初始化完成
2026-01-13 21:21:57 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('875401@qq.com',)
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('875401@qq.com', 'register')
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (datetime.datetime(2026, 1, 13, 21, 21, 57, 204499), '875401@qq.com', 'register')
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('875401@qq.com', 'register', '6ceef2ccb9171b72016be6c232e34e1a2bd6d5016b8e59d1a99c4d3ba5bdcbee', datetime.datetime(2026, 1, 13, 21, 31, 57, 204499), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 21, 21, 57, 204499))
2026-01-13 21:21:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:21:57 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:23:04 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.85s ago] ('875401@qq.com',)
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.85s ago] ('875401@qq.com', 'register')
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.85s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.84s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.84s ago] (datetime.datetime(2026, 1, 13, 21, 23, 4, 52251), '875401@qq.com', 'register')
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - [cached since 66.84s ago] ('875401@qq.com', 'register', '5ab5aeecc70fd13024315e051b1963101cfe5b372a6df3f79a741bd330f3be66', datetime.datetime(2026, 1, 13, 21, 33, 4, 52251), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 21, 23, 4, 52251))
2026-01-13 21:23:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:23:04 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:27:01 - main - INFO - 应用正在关闭...
2026-01-13 21:27:04 - main - INFO - 正在初始化数据库...
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:27:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:27:04 - main - INFO - 数据库初始化完成
2026-01-13 21:27:19 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('875401@qq.com',)
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('875401@qq.com', 'register')
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (datetime.datetime(2026, 1, 13, 21, 27, 19, 871583), '875401@qq.com', 'register')
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('875401@qq.com', 'register', 'dcd5904412ec029a514643d930d132062f77501b8409c1c2c2c21c628fee0cf8', datetime.datetime(2026, 1, 13, 21, 37, 19, 871583), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 21, 27, 19, 871583))
2026-01-13 21:27:19 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:27:19 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('875401@qq.com', 'register', 1)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('a123',)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [cached since 46.15s ago] ('875401@qq.com',)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('a123', '875401@qq.com', '$2b$12$teh.maV.7XeaVpXscEojReYOlATPH7wqHbldUJBGJVJwu3Jvvp5e2', None, None, None, 1, 1)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (datetime.datetime(2026, 1, 13, 21, 28, 6, 13463), 4)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (3, 'email', '875401@qq.com', '$2b$12$teh.maV.7XeaVpXscEojReYOlATPH7wqHbldUJBGJVJwu3Jvvp5e2', None, None, 1, datetime.datetime(2026, 1, 13, 21, 28, 6, 256910))
2026-01-13 21:28:06 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:28:06 - routers.auth - INFO - 用户注册成功: a123
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - [cached since 19.52s ago] ('a123',)
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (3, 'username', 'a123', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 21:28:25 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:28:25 - routers.auth - INFO - 用户登录成功: a123
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (1,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (datetime.date(2026, 1, 13),)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.01088s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.01757s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (3, 0, 6)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.02816s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (3, 1)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.001623s ago] (3, 2)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.04305s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.0424s ago] ()
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.04238s ago] (1,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.04137s ago] (datetime.date(2026, 1, 13),)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.04031s ago] ()
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.06748s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.06887s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.0696s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.05525s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.05353s ago] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (3, 0, 6)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (3,)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.05005s ago] (3, 1)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.05102s ago] (3, 2)
2026-01-13 21:28:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 5.045s ago] (3,)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] {}
2026-01-13 21:28:31 - routers.external_systems - INFO - 用户 a123 查询可访问的外部系统，返回 1 个系统
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 5.082s ago] (3,)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.03342s ago] {}
2026-01-13 21:28:31 - routers.external_systems - INFO - 用户 a123 查询可访问的外部系统，返回 1 个系统
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 6.835s ago] (3,)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] {'id_1': 1, 'param_1': 1}
2026-01-13 21:28:32 - routers.external_systems - INFO - 外部系统 access_token 发放成功 user_id=3 system_id=1 duration_ms=1
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 6.86s ago] (3,)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 0.02396s ago] {'id_1': 1, 'param_1': 1}
2026-01-13 21:28:32 - routers.external_systems - INFO - 用户 a123 获取外部系统 曼彻斯特大学研究生专业入学评估系统 的集成配置
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:29:27 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:29:27 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:29:27 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:29:27 - sqlalchemy.engine.Engine - INFO - [cached since 127.9s ago] ('875401@qq.com',)
2026-01-13 21:29:27 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:36:12 - main - INFO - 应用正在关闭...
2026-01-13 21:36:13 - main - INFO - 正在初始化数据库...
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:36:13 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:36:13 - main - INFO - 数据库初始化完成
2026-01-13 21:36:28 - main - INFO - 应用正在关闭...
2026-01-13 21:46:52 - main - INFO - 正在初始化数据库...
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:46:52 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:46:52 - main - INFO - 数据库初始化完成
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('admin',)
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (1, 'username', 'admin', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 21:47:15 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:47:15 - routers.auth - INFO - 用户登录成功: admin
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (datetime.date(2026, 1, 13),)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.01184s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.01235s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.01305s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (0, 6)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (0, 6)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.002807s ago] (2,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.03082s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.03005s ago] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.02887s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.0269s ago] (datetime.date(2026, 1, 13),)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.02616s ago] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.03923s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.02346s ago] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (0, 6)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.05809s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.05863s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.04028s ago] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.0453s ago] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (0, 6)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.0377s ago] (1,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - [cached since 0.03882s ago] (2,)
2026-01-13 21:47:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [cached since 4.825s ago] (1,)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ()
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (0, 10)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [cached since 4.851s ago] (1,)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [cached since 0.02469s ago] ()
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (0, 10)
2026-01-13 21:47:20 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.599s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.599s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.602s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.602s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.602s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.598s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.584s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.587s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.59s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.598s ago] (datetime.date(2026, 1, 13),)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.565s ago] (0, 6)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.546s ago] (0, 6)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.599s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.545s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 0.001538s ago] (2,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.628s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.628s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.612s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.611s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.589s ago] (0, 6)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.57s ago] (0, 6)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.639s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.64s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.626s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.639s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.579s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.638s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 0.03141s ago] (1,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.636s ago] (datetime.date(2026, 1, 13),)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 0.03264s ago] (2,)
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - [cached since 5.636s ago] ()
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:47:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:48:08 - main - INFO - 应用正在关闭...
2026-01-13 21:48:11 - main - INFO - 正在初始化数据库...
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:48:11 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:48:11 - main - INFO - 数据库初始化完成
2026-01-13 21:49:48 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('875401@qq.com',)
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('875401@qq.com', 'register')
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (datetime.datetime(2026, 1, 13, 21, 49, 48, 757272), '875401@qq.com', 'register')
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('875401@qq.com', 'register', '0d3df7a9a0c71a1aee1b088b2d524a680291304347bd2d0bcff093e872652161', datetime.datetime(2026, 1, 13, 21, 59, 48, 757272), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 21, 49, 48, 757272))
2026-01-13 21:49:48 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:49:48 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('875401@qq.com', 'register', 1)
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('admin',)
2026-01-13 21:50:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:52:41 - main - INFO - 应用正在关闭...
2026-01-13 21:52:44 - main - INFO - 正在初始化数据库...
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 21:52:44 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:52:44 - main - INFO - 数据库初始化完成
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('admin',)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (1, 'username', 'admin', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 21:55:52 - routers.auth - INFO - 用户登录成功: admin
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (datetime.date(2026, 1, 13),)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.01476s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.01524s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.01597s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (0, 6)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (0, 6)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.002218s ago] (2,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03937s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03669s ago] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03573s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03274s ago] (datetime.date(2026, 1, 13),)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.0321s ago] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.04929s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.05047s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.02843s ago] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.05157s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03216s ago] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (0, 6)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.03567s ago] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (0, 6)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.02673s ago] (1,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - [cached since 0.02751s ago] (2,)
2026-01-13 21:55:52 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [cached since 495.6s ago] (1,)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (2,)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (2, 0, 10)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [cached since 495.6s ago] (1,)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [cached since 0.04696s ago] (2,)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (2, 0, 10)
2026-01-13 22:04:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [cached since 498.2s ago] (1,)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (0, 10)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [cached since 498.2s ago] (1,)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [cached since 0.02814s ago] ()
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (0, 10)
2026-01-13 22:04:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [cached since 499.7s ago] (1,)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] {}
2026-01-13 22:04:12 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [cached since 499.8s ago] (1,)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - [cached since 0.02822s ago] {}
2026-01-13 22:04:12 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:12 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.5s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.5s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.5s ago] (0, 10)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.5s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 0.001434s ago] (2,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] (0, 10)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 500.6s ago] ()
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 0.05346s ago] (1,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - [cached since 0.05453s ago] (2,)
2026-01-13 22:04:13 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - [cached since 502.4s ago] (1,)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - [cached since 2.639s ago] {}
2026-01-13 22:04:15 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - [cached since 502.4s ago] (1,)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - [cached since 2.668s ago] {}
2026-01-13 22:04:15 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:04:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:04 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('875401@qq.com',)
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('875401@qq.com', 'register')
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (datetime.datetime(2026, 1, 13, 22, 10, 4, 316306), '875401@qq.com', 'register')
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('875401@qq.com', 'register', 'd790e2743b8888964c6af29aba07a0e4d93947ede70ae330ecbba4d3ea91ed94', datetime.datetime(2026, 1, 13, 22, 20, 4, 316306), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 10, 4, 316306))
2026-01-13 22:10:04 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:10:04 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:10:36 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:36 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:10:36 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('875401@qq.com', 'register', 1)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - [cached since 884.9s ago] ('user1',)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - [cached since 32.69s ago] ('875401@qq.com',)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('user1', '875401@qq.com', '$2b$12$evlYwSM9bZ10DpqSNTVRheiq96khmjKdOJEC/LIfOpzalRbwax3TS', None, None, None, 1, 1)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (datetime.datetime(2026, 1, 13, 22, 10, 36, 998227), 6)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (4, 'email', '875401@qq.com', '$2b$12$evlYwSM9bZ10DpqSNTVRheiq96khmjKdOJEC/LIfOpzalRbwax3TS', None, None, 1, datetime.datetime(2026, 1, 13, 22, 10, 37, 253096))
2026-01-13 22:10:37 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:10:37 - routers.auth - INFO - 用户注册成功: user1
2026-01-13 22:10:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:10:48 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('user1',)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (4, 'username', 'user1', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:10:49 - routers.auth - INFO - 用户登录成功: user1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] ()
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (1,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (4, 0, 6)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (4, 1)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.7s ago] ()
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 0.002337s ago] (4, 2)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 0.02863s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (4, 0, 6)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ()
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (1,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ()
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 0.04014s ago] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (4,)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 0.03349s ago] (4, 1)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - [cached since 0.03458s ago] (4, 2)
2026-01-13 22:10:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 902.4s ago] (4,)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 404.2s ago] ()
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 404.2s ago] (0, 10)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 902.4s ago] (4,)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 404.3s ago] ()
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - [cached since 404.2s ago] (0, 10)
2026-01-13 22:10:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:01 - sqlalchemy.engine.Engine - INFO - [cached since 908.7s ago] (4,)
2026-01-13 22:11:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] ()
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.28s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (1,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.24s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (4, 1)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] ()
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 0.001194s ago] (4, 2)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.3s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.27s ago] (4, 0, 6)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] ()
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.32s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (1,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.28s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 0.03743s ago] (4, 1)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963s ago] ()
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 0.03889s ago] (4, 2)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963.1s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 963.1s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.33s ago] (4,)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - [cached since 66.3s ago] (4, 0, 6)
2026-01-13 22:11:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - [cached since 969s ago] (4,)
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - [cached since 969.1s ago] (4,)
2026-01-13 22:12:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 972s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.32s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 972s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.29s ago] (4, 0, 10)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.32s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.28s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 9.037s ago] (4, 1)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 9.038s ago] (4, 2)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 972.1s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 972.1s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.34s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.34s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.31s ago] (4, 0, 10)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 75.3s ago] (4,)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 9.056s ago] (4, 1)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - [cached since 9.057s ago] (4, 2)
2026-01-13 22:12:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 982.6s ago] (4,)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 487s ago] (2,)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 486.9s ago] (2, 0, 10)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 982.6s ago] (4,)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 487s ago] (2,)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - [cached since 486.9s ago] (2, 0, 10)
2026-01-13 22:12:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - [cached since 987.3s ago] (4,)
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - [cached since 489.2s ago] ()
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - [cached since 489.1s ago] (0, 10)
2026-01-13 22:12:19 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 987.4s ago] (4,)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 489.2s ago] ()
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 489.2s ago] (0, 10)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 988.3s ago] (4,)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 492.7s ago] (2,)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 492.7s ago] (2, 0, 10)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 988.4s ago] (4,)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 492.8s ago] (2,)
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:12:20 - sqlalchemy.engine.Engine - INFO - [cached since 492.7s ago] (2, 0, 10)
2026-01-13 22:12:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 1078s ago] (4,)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 582.9s ago] (2,)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 582.8s ago] (2, 0, 10)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 1078s ago] (4,)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.user_type = %s) AS anon_1
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 582.9s ago] (2,)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.user_type = %s 
 LIMIT %s, %s
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - [cached since 582.8s ago] (2, 0, 10)
2026-01-13 22:13:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:20:00 - main - INFO - 应用正在关闭...
2026-01-13 22:20:01 - main - INFO - 正在初始化数据库...
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:01 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:20:01 - main - INFO - 数据库初始化完成
2026-01-13 22:20:19 - main - INFO - 应用正在关闭...
2026-01-13 22:20:20 - main - INFO - 正在初始化数据库...
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:20 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:20:20 - main - INFO - 数据库初始化完成
2026-01-13 22:20:39 - main - INFO - 应用正在关闭...
2026-01-13 22:20:40 - main - INFO - 正在初始化数据库...
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:20:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:20:40 - main - INFO - 数据库初始化完成
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (4,)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (4,)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] (4, 0, 10)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [cached since 0.0241s ago] (4,)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [cached since 0.0204s ago] (4,)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (4, 0, 10)
2026-01-13 22:23:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:34 - sqlalchemy.engine.Engine - INFO - [cached since 10.34s ago] (4,)
2026-01-13 22:23:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('admin',)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (1, 'username', 'admin', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:23:40 - routers.auth - INFO - 用户登录成功: admin
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.93s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (datetime.date(2026, 1, 13),)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.94s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (0, 6)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (0, 6)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.001798s ago] (2,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.96s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03216s ago] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.0262s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02611s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02471s ago] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.97s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.97s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03024s ago] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02719s ago] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (0, 6)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (0, 6)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 16.98s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03552s ago] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02904s ago] (1,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03s ago] (2,)
2026-01-13 22:23:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [cached since 19.6s ago] (1,)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ()
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (0, 10)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [cached since 19.62s ago] (1,)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [cached since 0.01888s ago] ()
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (0, 10)
2026-01-13 22:23:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [cached since 25.87s ago] (1,)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [cached since 25.87s ago] (4,)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=%s, updated_at=now() WHERE users.id = %s
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (3, 4)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:23:49 - routers.users - INFO - 用户删除成功: admin -> user1
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [cached since 25.9s ago] (1,)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [cached since 6.301s ago] ()
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - [cached since 6.283s ago] (0, 10)
2026-01-13 22:23:49 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] (1,)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 32.06s ago] (2,)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - UPDATE users SET status=%s, updated_at=now() WHERE users.id = %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 6.187s ago] (2, 2)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (2,)
2026-01-13 22:23:55 - routers.users - INFO - 用户更新成功: admin -> user
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 32.1s ago] (1,)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users) AS anon_1
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 12.5s ago] ()
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
 LIMIT %s, %s
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - [cached since 12.48s ago] (0, 10)
2026-01-13 22:23:55 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - [cached since 59.3s ago] (1,)
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('user1',)
2026-01-13 22:24:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:15 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('875401@qq.com',)
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('875401@qq.com', 'register')
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (datetime.datetime(2026, 1, 13, 22, 25, 15, 623739), '875401@qq.com', 'register')
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('875401@qq.com', 'register', '9fb5b4d23507e58a80cbd1a39706b23de4ff65600e72c1f95bc07c575f877c76', datetime.datetime(2026, 1, 13, 22, 35, 15, 623739), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 25, 15, 623739))
2026-01-13 22:25:15 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:25:15 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('875401@qq.com', 'register', 1)
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - [cached since 71.89s ago] ('user1',)
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:25:34 - sqlalchemy.engine.Engine - INFO - [cached since 19.3s ago] ('875401@qq.com',)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('user1', '875401@qq.com', '$2b$12$6dV3KQqUDAa2JGLR74m66eGtab5XFPrgQ8L.MYMrd..OeSg4idIuW', None, None, None, 1, 2)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (5, 1, 3, 0.0, None)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (datetime.datetime(2026, 1, 13, 22, 25, 34, 917001), 7)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (5, 'email', '875401@qq.com', '$2b$12$6dV3KQqUDAa2JGLR74m66eGtab5XFPrgQ8L.MYMrd..OeSg4idIuW', None, None, 1, datetime.datetime(2026, 1, 13, 22, 25, 35, 173664))
2026-01-13 22:25:35 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:25:35 - routers.auth - INFO - 用户注册成功: user1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] ('user1',)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (5, 'username', 'user1', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:25:40 - routers.auth - INFO - 用户登录成功: user1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] ()
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (1,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (5, 1)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] ()
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.003277s ago] (5, 2)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (5, 0, 6)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] ()
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (1,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03384s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 136.9s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 120s ago] ()
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.02886s ago] (5,)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03251s ago] (5, 1)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (5, 0, 6)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - [cached since 0.03428s ago] (5, 2)
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:40 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5,)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5,)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5, 0, 10)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5,)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5,)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] (5, 0, 10)
2026-01-13 22:25:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5,)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5,)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5, 0, 10)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5,)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5,)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - [cached since 165.5s ago] (5, 0, 10)
2026-01-13 22:26:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [cached since 276.9s ago] (5,)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] {}
2026-01-13 22:28:00 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [cached since 276.9s ago] (5,)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.01364s ago] {}
2026-01-13 22:28:00 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.6s ago] (5,)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.6s ago] (5,)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.6s ago] (5, 0, 10)
2026-01-13 22:28:02 - routers.users - ERROR - 获取用户列表失败: 1 validation error for UserResponse
email
  value is not a valid email address: The email address is not valid. It must have exactly one @-sign. [type=value_error, input_value='', input_type=str]
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.7s ago] (5,)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.7s ago] (5,)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 278.6s ago] (5, 0, 10)
2026-01-13 22:28:02 - routers.users - ERROR - 获取用户列表失败: 1 validation error for UserResponse
email
  value is not a valid email address: The email address is not valid. It must have exactly one @-sign. [type=value_error, input_value='', input_type=str]
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 279.3s ago] (5,)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - [cached since 2.404s ago] {}
2026-01-13 22:28:02 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:02 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - [cached since 279.3s ago] (5,)
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - [cached since 2.427s ago] {}
2026-01-13 22:28:03 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5,)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5,)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5, 0, 10)
2026-01-13 22:28:04 - routers.users - ERROR - 获取用户列表失败: 1 validation error for UserResponse
email
  value is not a valid email address: The email address is not valid. It must have exactly one @-sign. [type=value_error, input_value='', input_type=str]
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5,)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5,)
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - [cached since 280.6s ago] (5, 0, 10)
2026-01-13 22:28:04 - routers.users - ERROR - 获取用户列表失败: 1 validation error for UserResponse
email
  value is not a valid email address: The email address is not valid. It must have exactly one @-sign. [type=value_error, input_value='', input_type=str]
2026-01-13 22:28:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - [cached since 284.8s ago] (5,)
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - [cached since 284.8s ago] (5,)
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - [cached since 284.8s ago] (5, 0, 10)
2026-01-13 22:28:08 - routers.users - ERROR - 获取用户列表失败: 1 validation error for UserResponse
email
  value is not a valid email address: The email address is not valid. It must have exactly one @-sign. [type=value_error, input_value='', input_type=str]
2026-01-13 22:28:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - [cached since 297.5s ago] (5,)
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - [cached since 297.5s ago] (5,)
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - [cached since 297.5s ago] (5, 0, 10)
2026-01-13 22:28:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 308s ago] (5,)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 31.09s ago] {}
2026-01-13 22:28:31 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 308s ago] (5,)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - [cached since 31.11s ago] {}
2026-01-13 22:28:31 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309.1s ago] (5,)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309.1s ago] (5,)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309s ago] (5, 0, 10)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309.1s ago] (5,)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309.1s ago] (5,)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - [cached since 309.1s ago] (5, 0, 10)
2026-01-13 22:28:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - [cached since 309.8s ago] (5,)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - [cached since 32.94s ago] {}
2026-01-13 22:28:33 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - [cached since 309.8s ago] (5,)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - [cached since 32.97s ago] {}
2026-01-13 22:28:33 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:33 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.4s ago] (5,)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.4s ago] (5,)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.4s ago] (5, 0, 10)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.5s ago] (5,)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.5s ago] (5,)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - [cached since 310.4s ago] (5, 0, 10)
2026-01-13 22:28:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:28:53 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] ('875401@qq.com',)
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] ('875401@qq.com', 'register')
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] (datetime.datetime(2026, 1, 13, 22, 28, 53, 192363), '875401@qq.com', 'register')
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - [cached since 217.6s ago] ('875401@qq.com', 'register', '3b3f7f29c7e3ad71aa153a9b04af82e0e7ebfbb75f1cac5a704be5e36c0bab60', datetime.datetime(2026, 1, 13, 22, 38, 53, 192363), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 28, 53, 192363))
2026-01-13 22:28:53 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:28:53 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:29:56 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] ('875401@qq.com',)
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] ('875401@qq.com', 'register')
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] (datetime.datetime(2026, 1, 13, 22, 29, 56, 441160), '875401@qq.com', 'register')
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - [cached since 280.8s ago] ('875401@qq.com', 'register', '712f3a618146d36d75a3d32111f58415180255cb161ab6ecc0f22713662ba5b0', datetime.datetime(2026, 1, 13, 22, 39, 56, 441160), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 29, 56, 441160))
2026-01-13 22:29:56 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:29:56 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 347.4s ago] ('875401@qq.com', 'register', 1)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 419.3s ago] ('user2',)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 366.7s ago] ('875401@qq.com',)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 347.4s ago] ('user2', '875401@qq.com', '$2b$12$yBK7nxELwxP3PbgjYivXI.mveYaQ5HzzEXMKC2Mt.Ibk5O/OAntg2', None, None, None, 1, 2)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 347.4s ago] (6, 1, 3, 0.0, None)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 347.4s ago] (datetime.datetime(2026, 1, 13, 22, 31, 22, 315734), 9)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - [cached since 347.4s ago] (6, 'email', '875401@qq.com', '$2b$12$yBK7nxELwxP3PbgjYivXI.mveYaQ5HzzEXMKC2Mt.Ibk5O/OAntg2', None, None, 1, datetime.datetime(2026, 1, 13, 22, 31, 22, 554578))
2026-01-13 22:31:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:31:22 - routers.auth - ERROR - 用户注册失败: (pymysql.err.IntegrityError) (1062, "Duplicate entry 'email-875401@qq.com' for key 'user_auths.unique_auth'")
[SQL: INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: (6, 'email', '875401@qq.com', '$2b$12$yBK7nxELwxP3PbgjYivXI.mveYaQ5HzzEXMKC2Mt.Ibk5O/OAntg2', None, None, 1, datetime.datetime(2026, 1, 13, 22, 31, 22, 554578))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-01-13 22:31:26 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] ('875401@qq.com',)
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] ('875401@qq.com', 'register')
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] (datetime.datetime(2026, 1, 13, 22, 31, 26, 550711), '875401@qq.com', 'register')
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - [cached since 370.9s ago] ('875401@qq.com', 'register', 'b64e41d59d873f2c940eeff600fad8507814ca050afeeadea0a26d31dd41db11', datetime.datetime(2026, 1, 13, 22, 41, 26, 550711), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 31, 26, 550711))
2026-01-13 22:31:26 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:31:26 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 370.4s ago] ('875401@qq.com', 'register', 1)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 442.3s ago] ('user2',)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 389.7s ago] ('875401@qq.com',)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 370.3s ago] ('user2', '875401@qq.com', '$2b$12$wfG./XoNaqj2kNqO26FbC.aWK/Evd6d0ordTSiVBmG9hxOLQDdQM2', None, None, None, 1, 2)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 370.3s ago] (7, 1, 3, 0.0, None)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 370.3s ago] (datetime.datetime(2026, 1, 13, 22, 31, 45, 278664), 10)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - [cached since 370.3s ago] (7, 'email', '875401@qq.com', '$2b$12$wfG./XoNaqj2kNqO26FbC.aWK/Evd6d0ordTSiVBmG9hxOLQDdQM2', None, None, 1, datetime.datetime(2026, 1, 13, 22, 31, 45, 501029))
2026-01-13 22:31:45 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:31:45 - routers.auth - ERROR - 用户注册失败: (pymysql.err.IntegrityError) (1062, "Duplicate entry 'email-875401@qq.com' for key 'user_auths.unique_auth'")
[SQL: INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: (7, 'email', '875401@qq.com', '$2b$12$wfG./XoNaqj2kNqO26FbC.aWK/Evd6d0ordTSiVBmG9hxOLQDdQM2', None, None, 1, datetime.datetime(2026, 1, 13, 22, 31, 45, 501029))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 400.3s ago] ('875401@qq.com', 'register', 1)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 472.2s ago] ('user2',)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 419.6s ago] ('875401@qq.com',)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 400.3s ago] ('user2', '875401@qq.com', '$2b$12$8UOUsIz3eByyaACpd4ix0ulVAt1FH2fiuqxqoGXUmZzNe5OXS/tQG', None, None, None, 1, 2)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 400.3s ago] (8, 1, 3, 0.0, None)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 400.3s ago] (datetime.datetime(2026, 1, 13, 22, 32, 15, 251486), 10)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - [cached since 400.3s ago] (8, 'email', '875401@qq.com', '$2b$12$8UOUsIz3eByyaACpd4ix0ulVAt1FH2fiuqxqoGXUmZzNe5OXS/tQG', None, None, 1, datetime.datetime(2026, 1, 13, 22, 32, 15, 487829))
2026-01-13 22:32:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:32:15 - routers.auth - ERROR - 用户注册失败: (pymysql.err.IntegrityError) (1062, "Duplicate entry 'email-875401@qq.com' for key 'user_auths.unique_auth'")
[SQL: INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: (8, 'email', '875401@qq.com', '$2b$12$8UOUsIz3eByyaACpd4ix0ulVAt1FH2fiuqxqoGXUmZzNe5OXS/tQG', None, None, 1, datetime.datetime(2026, 1, 13, 22, 32, 15, 487829))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-01-13 22:32:40 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] ('875401@qq.com',)
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] ('875401@qq.com', 'register')
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] (datetime.datetime(2026, 1, 13, 22, 32, 40, 755083), '875401@qq.com', 'register')
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - [cached since 445.1s ago] ('875401@qq.com', 'register', 'ab107ae9fe5dead30c55e004fced934f9656931167a59f6247103d389195754e', datetime.datetime(2026, 1, 13, 22, 42, 40, 755083), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 32, 40, 755083))
2026-01-13 22:32:40 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:32:40 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] ('875401@qq.com', 'register', 1)
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - [cached since 517.8s ago] ('user2',)
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:33:00 - sqlalchemy.engine.Engine - INFO - [cached since 465.2s ago] ('875401@qq.com',)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] ('user2', '875401@qq.com', '$2b$12$fgfvEj1E/Ubh4V/6CVTKJeVcNh4uBV3xLlvlJVMGUNA7sfwRSXQO.', None, None, None, 1, 2)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] (9, 1, 3, 0.0, None)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] (datetime.datetime(2026, 1, 13, 22, 33, 0, 847128), 11)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - [cached since 445.9s ago] (9, 'email', '875401@qq.com', '$2b$12$fgfvEj1E/Ubh4V/6CVTKJeVcNh4uBV3xLlvlJVMGUNA7sfwRSXQO.', None, None, 1, datetime.datetime(2026, 1, 13, 22, 33, 1, 76723))
2026-01-13 22:33:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:33:01 - routers.auth - ERROR - 用户注册失败: (pymysql.err.IntegrityError) (1062, "Duplicate entry 'email-875401@qq.com' for key 'user_auths.unique_auth'")
[SQL: INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: (9, 'email', '875401@qq.com', '$2b$12$fgfvEj1E/Ubh4V/6CVTKJeVcNh4uBV3xLlvlJVMGUNA7sfwRSXQO.', None, None, 1, datetime.datetime(2026, 1, 13, 22, 33, 1, 76723))]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-01-13 22:33:42 - routers.auth - INFO - email_code_send_requested email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] ('875401@qq.com',)
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - SELECT max(email_verification_codes.created_at) AS max_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] ('875401@qq.com', 'register')
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] ('875401@qq.com', 'register', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM email_verification_codes 
WHERE email_verification_codes.ip = %s AND email_verification_codes.created_at >= %s
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] ('127.0.0.1', datetime.datetime(2026, 1, 13, 0, 0))
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] (datetime.datetime(2026, 1, 13, 22, 33, 42, 741726), '875401@qq.com', 'register')
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - INSERT INTO email_verification_codes (email, purpose, code_hash, expires_at, used_at, ip, user_agent, created_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - [cached since 507.1s ago] ('875401@qq.com', 'register', '314c2aeac69a043408fc7ac57e42062d35d1c76e624900f7b3d82fb049e08628', datetime.datetime(2026, 1, 13, 22, 43, 42, 741726), None, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', datetime.datetime(2026, 1, 13, 22, 33, 42, 741726))
2026-01-13 22:33:42 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:33:42 - routers.auth - INFO - email_code_send_enqueued email=8***1@qq.com purpose=register ip=127.0.0.1
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - SELECT email_verification_codes.id, email_verification_codes.email, email_verification_codes.purpose, email_verification_codes.code_hash, email_verification_codes.expires_at, email_verification_codes.used_at, email_verification_codes.ip, email_verification_codes.user_agent, email_verification_codes.created_at 
FROM email_verification_codes 
WHERE email_verification_codes.email = %s AND email_verification_codes.purpose = %s AND email_verification_codes.used_at IS NULL ORDER BY email_verification_codes.id DESC 
 LIMIT %s
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - [cached since 503.9s ago] ('875401@qq.com', 'register', 1)
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - [cached since 575.8s ago] ('user2',)
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.email = %s
2026-01-13 22:33:58 - sqlalchemy.engine.Engine - INFO - [cached since 523.2s ago] ('875401@qq.com',)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, password_hash, full_name, avatar_url, phone, status, user_type) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - [cached since 503.8s ago] ('user2', '875401@qq.com', '$2b$12$Pi9b0aoSQEn0JVZWYFr.meEYIH7KVAbfr/C3gZvsnKfKLgj1uS/e.', None, None, None, 1, 2)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - INSERT INTO members (user_id, member_level, points, balance, expired_at) VALUES (%s, %s, %s, %s, %s)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - [cached since 503.8s ago] (10, 1, 3, 0.0, None)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - UPDATE email_verification_codes SET used_at=%s WHERE email_verification_codes.id = %s
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - [cached since 503.8s ago] (datetime.datetime(2026, 1, 13, 22, 33, 58, 796737), 12)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_auths (user_id, auth_type, auth_key, auth_secret, wechat_nickname, wechat_avatar, is_verified, verified_at) VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - [cached since 503.8s ago] (10, 'email', '875401@qq.com', '$2b$12$Pi9b0aoSQEn0JVZWYFr.meEYIH7KVAbfr/C3gZvsnKfKLgj1uS/e.', None, None, 1, datetime.datetime(2026, 1, 13, 22, 33, 59, 12788))
2026-01-13 22:33:59 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:33:59 - routers.auth - INFO - 用户注册成功: user2
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] ('user2',)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (10, 'username', 'user2', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:34:08 - routers.auth - INFO - 用户登录成功: user2
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] ()
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (1,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] ()
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10, 0, 6)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (10, 1)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 0.00253s ago] (10, 2)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] ()
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (1,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 627.9s ago] ()
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 644.8s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10, 0, 6)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 507.9s ago] (10,)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 0.02181s ago] (10, 1)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - [cached since 0.02298s ago] (10, 2)
2026-01-13 22:34:08 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - [cached since 652.1s ago] (10,)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - [cached since 375.2s ago] {}
2026-01-13 22:34:15 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - [cached since 652.1s ago] (10,)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - [cached since 375.3s ago] {}
2026-01-13 22:34:15 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653.1s ago] (10,)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653.1s ago] (10,)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653s ago] (10, 0, 10)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653.1s ago] (10,)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653.1s ago] (10,)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - [cached since 653s ago] (10, 0, 10)
2026-01-13 22:34:16 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - [cached since 653.9s ago] (10,)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - [cached since 377.1s ago] {}
2026-01-13 22:34:17 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - [cached since 653.9s ago] (10,)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - [cached since 377.1s ago] {}
2026-01-13 22:34:17 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.8s ago] (10,)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.8s ago] (10,)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.8s ago] (10, 0, 10)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.9s ago] (10,)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.8s ago] (10,)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - [cached since 657.8s ago] (10, 0, 10)
2026-01-13 22:34:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - [cached since 658.5s ago] (10,)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - [cached since 381.6s ago] {}
2026-01-13 22:34:22 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - [cached since 658.5s ago] (10,)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - [cached since 381.7s ago] {}
2026-01-13 22:34:22 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.4s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.4s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.3s ago] (10, 0, 10)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.4s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.4s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.4s ago] (10, 0, 10)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 659.9s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 383.1s ago] {}
2026-01-13 22:34:23 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 660s ago] (10,)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - [cached since 383.1s ago] {}
2026-01-13 22:34:23 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10,)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10,)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10, 0, 10)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10,)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10,)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - [cached since 660.8s ago] (10, 0, 10)
2026-01-13 22:34:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - [cached since 661.6s ago] (10,)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - [cached since 384.7s ago] {}
2026-01-13 22:34:25 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - [cached since 661.6s ago] (10,)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - [cached since 384.8s ago] {}
2026-01-13 22:34:25 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:25 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10, 0, 10)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 662.5s ago] (10, 0, 10)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 663.1s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 386.3s ago] {}
2026-01-13 22:34:26 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 663.1s ago] (10,)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - [cached since 386.3s ago] {}
2026-01-13 22:34:26 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.9s ago] (10,)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.9s ago] (10,)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.8s ago] (10, 0, 10)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.9s ago] (10,)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.9s ago] (10,)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - [cached since 664.9s ago] (10, 0, 10)
2026-01-13 22:34:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - [cached since 666.1s ago] (10,)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - [cached since 389.3s ago] {}
2026-01-13 22:34:29 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - [cached since 666.1s ago] (10,)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - [cached since 389.3s ago] {}
2026-01-13 22:34:29 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:29 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10,)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10,)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10, 0, 10)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10,)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10,)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - [cached since 667.4s ago] (10, 0, 10)
2026-01-13 22:34:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - [cached since 675.9s ago] (10,)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - [cached since 399s ago] {}
2026-01-13 22:34:39 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - [cached since 675.9s ago] (10,)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - [cached since 399s ago] {}
2026-01-13 22:34:39 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:34:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10,)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10,)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10, 0, 10)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10,)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10,)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - [cached since 739s ago] (10, 0, 10)
2026-01-13 22:35:42 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - [cached since 740.3s ago] (10,)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - [cached since 463.4s ago] {}
2026-01-13 22:35:44 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - [cached since 740.3s ago] (10,)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - [cached since 463.5s ago] {}
2026-01-13 22:35:44 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:35:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10,)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10,)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10, 0, 10)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10,)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10,)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - [cached since 897.4s ago] (10, 0, 10)
2026-01-13 22:38:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10,)
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10,)
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10, 0, 10)
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:44:25 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10,)
2026-01-13 22:44:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:44:26 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10,)
2026-01-13 22:44:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:44:26 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] (10, 0, 10)
2026-01-13 22:44:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10, 0, 1)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10, 0, 1)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10,)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - [cached since 1639s ago] (10, 0, 1)
2026-01-13 22:50:42 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - [cached since 1672s ago] (10,)
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - [cached since 1672s ago] (10,)
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - [cached since 1672s ago] (10, 0, 1)
2026-01-13 22:51:15 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - [cached since 1783s ago] (10,)
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - [cached since 1783s ago] (10,)
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - [cached since 1783s ago] (10, 0, 1)
2026-01-13 22:53:06 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - [cached since 1879s ago] (10,)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - [cached since 1603s ago] {}
2026-01-13 22:54:43 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - [cached since 1879s ago] (10,)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - [cached since 1603s ago] {}
2026-01-13 22:54:43 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] (10, 0, 1)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] (10, 0, 1)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] (10,)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] (10, 0, 1)
2026-01-13 22:54:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] (10,)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - [cached since 1608s ago] {}
2026-01-13 22:54:48 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] (10,)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - [cached since 1608s ago] {}
2026-01-13 22:54:48 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:48 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10, 0, 1)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10, 0, 1)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10,)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - [cached since 1886s ago] (10, 0, 1)
2026-01-13 22:54:50 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - [cached since 1888s ago] (10,)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - [cached since 1611s ago] {}
2026-01-13 22:54:51 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - [cached since 1888s ago] (10,)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - [cached since 1611s ago] {}
2026-01-13 22:54:51 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10, 0, 1)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10, 0, 1)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10,)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - [cached since 1890s ago] (10, 0, 1)
2026-01-13 22:54:53 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] (10,)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - [cached since 1623s ago] {}
2026-01-13 22:55:03 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] (10,)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - [cached since 1623s ago] {}
2026-01-13 22:55:03 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10, 0, 1)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10, 0, 1)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10,)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] (10, 0, 1)
2026-01-13 22:55:04 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ('admin',)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (1, 'username', 'admin', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:55:32 - routers.auth - INFO - 用户登录成功: admin
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (0, 6)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (0, 6)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 0.002025s ago] (2,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (0, 6)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] (0, 6)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 1912s ago] ()
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 0.03288s ago] (1,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - [cached since 0.03375s ago] (2,)
2026-01-13 22:55:32 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - [cached since 1938s ago] (1,)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - [cached since 1661s ago] {}
2026-01-13 22:55:41 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - [cached since 1938s ago] (1,)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - [cached since 1661s ago] {}
2026-01-13 22:55:41 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1940s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1940s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1940s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1940s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (0, 6)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (0, 6)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 11.32s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 11.32s ago] (2,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1941s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1941s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1941s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1941s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (0, 6)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (0, 6)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 11.38s ago] (1,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 11.38s ago] (2,)
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - [cached since 1924s ago] ()
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:55:44 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:02 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:02 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:56:02 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] ('user2',)
2026-01-13 22:56:02 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:56:02 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (10, 'username', 'user2', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:56:03 - routers.auth - INFO - 用户登录成功: user2
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1959s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] ()
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (1,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] ()
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1959s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1959s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1959s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10, 0, 6)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1315s ago] (10, 1)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1959s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1315s ago] (10, 2)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] ()
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (1,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1943s ago] ()
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1960s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1960s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10, 0, 6)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1960s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1823s ago] (10,)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1315s ago] (10, 1)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - [cached since 1315s ago] (10, 2)
2026-01-13 22:56:03 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10, 0, 1)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10, 0, 1)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10,)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - [cached since 1966s ago] (10, 0, 1)
2026-01-13 22:56:09 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - [cached since 1967s ago] (10,)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - [cached since 1690s ago] {}
2026-01-13 22:56:10 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - [cached since 1967s ago] (10,)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - [cached since 1690s ago] {}
2026-01-13 22:56:10 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10, 0, 1)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10, 0, 1)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10,)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - [cached since 1968s ago] (10, 0, 1)
2026-01-13 22:56:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] ('user1',)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (5, 'username', 'user1', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:56:21 - routers.auth - INFO - 用户登录成功: user1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] ()
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (1,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1333s ago] (5, 1)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] ()
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1333s ago] (5, 2)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5, 0, 6)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] ()
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (1,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1978s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1961s ago] ()
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5,)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1841s ago] (5, 0, 6)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1333s ago] (5, 1)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - [cached since 1333s ago] (5, 2)
2026-01-13 22:56:21 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5, 0, 1)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5, 0, 1)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5,)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - [cached since 1981s ago] (5, 0, 1)
2026-01-13 22:56:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] (5,)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - [cached since 1708s ago] {}
2026-01-13 22:56:28 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] (5,)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - [cached since 1708s ago] {}
2026-01-13 22:56:28 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:56:28 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:28 - main - INFO - 应用正在关闭...
2026-01-13 22:59:32 - main - INFO - 正在初始化数据库...
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 22:59:32 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:59:32 - main - INFO - 数据库初始化完成
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (5,)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] {}
2026-01-13 22:59:34 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [cached since 0.02596s ago] (5,)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - [cached since 0.01683s ago] {}
2026-01-13 22:59:34 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:34 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 3.055s ago] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (5, 0, 1)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 3.072s ago] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.01542s ago] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (5, 0, 1)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 3.094s ago] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.03728s ago] (5,)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - [cached since 0.02152s ago] (5, 0, 1)
2026-01-13 22:59:37 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 3.965s ago] (5,)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 3.956s ago] {}
2026-01-13 22:59:38 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 3.977s ago] (5,)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 3.968s ago] {}
2026-01-13 22:59:38 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 4.789s ago] (5,)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 1.732s ago] (5,)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - [cached since 1.717s ago] (5, 0, 1)
2026-01-13 22:59:38 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 4.829s ago] (5,)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 1.773s ago] (5,)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 1.757s ago] (5, 0, 1)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 4.859s ago] (5,)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT users.id AS id, users.username AS username, users.email AS email, users.password_hash AS password_hash, users.full_name AS full_name, users.avatar_url AS avatar_url, users.phone AS phone, users.status AS status, users.user_type AS user_type, users.created_at AS created_at, users.updated_at AS updated_at 
FROM users 
WHERE users.id = %s) AS anon_1
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 1.803s ago] (5,)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s 
 LIMIT %s, %s
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - [cached since 1.787s ago] (5, 0, 1)
2026-01-13 22:59:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - [cached since 7.27s ago] (5,)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - [cached since 7.26s ago] {}
2026-01-13 22:59:41 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - [cached since 7.299s ago] (5,)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - [cached since 7.29s ago] {}
2026-01-13 22:59:41 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:41 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - [cached since 9.298s ago] (5,)
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - [cached since 9.289s ago] {}
2026-01-13 22:59:43 - routers.external_systems - INFO - 用户 user1 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:43 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('user2',)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (10, 'username', 'user2', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 22:59:51 - routers.auth - INFO - 用户登录成功: user2
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.5s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (1,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (datetime.date(2026, 1, 13),)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.51s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.52s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.52s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (10, 1)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (10, 0, 6)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.00823s ago] (10, 2)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.53s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.03288s ago] ()
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.03186s ago] (1,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.0302s ago] (datetime.date(2026, 1, 13),)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.02882s ago] ()
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.54s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.55s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 17.55s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.0253s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.0375s ago] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (10, 0, 6)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (10,)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.03293s ago] (10, 1)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - [cached since 0.03407s ago] (10, 2)
2026-01-13 22:59:51 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - [cached since 20.72s ago] (10,)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - [cached since 20.71s ago] {}
2026-01-13 22:59:54 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - [cached since 20.74s ago] (10,)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - [cached since 20.73s ago] {}
2026-01-13 22:59:54 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 22:59:54 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.8s ago] ('user1',)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.8s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] (5, 'username', 'user1', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 23:00:26 - routers.auth - INFO - 用户登录成功: user1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.28s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.28s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] ()
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.77s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] (1,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.73s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.29s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.29s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (5, 1)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] ()
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.77s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.00337s ago] (5, 2)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.74s ago] (5, 0, 6)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.31s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.31s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.81s ago] ()
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.81s ago] (1,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.31s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.81s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.8s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.8s ago] ()
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.76s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 52.32s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.02881s ago] (5, 1)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.79s ago] (5,)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 0.03054s ago] (5, 2)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - [cached since 34.77s ago] (5, 0, 6)
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:26 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.23s ago] ('admin',)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.22s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.21s ago] (1, 'username', 'admin', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 23:00:57 - routers.auth - INFO - 用户登录成功: admin
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.71s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.21s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.21s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.21s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.21s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.72s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.72s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.72s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (0, 6)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (0, 6)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.001973s ago] (2,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.74s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.24s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.24s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.24s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 66.23s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.75s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.02806s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (0, 6)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.76s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 83.76s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.03014s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.03467s ago] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (0, 6)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.02909s ago] (1,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - [cached since 0.03006s ago] (2,)
2026-01-13 23:00:57 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:06:47 - main - INFO - 应用正在关闭...
2026-01-13 23:06:50 - main - INFO - 正在初始化数据库...
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`users`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_auths`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`email_verification_codes`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`login_logs`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`members`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`user_roles`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`role_permissions`
2026-01-13 23:06:50 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`roles`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`permissions`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`menus`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`orders`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`point_transactions`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`external_systems`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - DESCRIBE `admin_system`.`system_configs`
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2026-01-13 23:06:51 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 23:06:51 - main - INFO - 数据库初始化完成
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('user2',)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (10, 'username', 'user2', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 23:07:00 - routers.auth - INFO - 用户登录成功: user2
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ()
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (1,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (datetime.date(2026, 1, 13),)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.01001s ago] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.01928s ago] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.02021s ago] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (10, 1)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.005217s ago] (10, 2)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (10, 0, 6)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.03505s ago] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.03409s ago] ()
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.03239s ago] (1,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.03029s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.02898s ago] ()
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - [cached since 0.04565s ago] (10,)
2026-01-13 23:07:00 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.05149s ago] (10,)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.03845s ago] (10,)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (10,)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.03502s ago] (10, 1)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.03633s ago] (10, 2)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.06462s ago] (10,)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [cached since 0.0417s ago] (10,)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (10, 0, 6)
2026-01-13 23:07:01 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] ()
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (1,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (10, 1)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10, 0, 6)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] ()
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 0.003522s ago] (10, 2)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] ()
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (1,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders 
WHERE orders.user_id = %s ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10, 0, 6)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (datetime.date(2026, 1, 13),)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] ()
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 442s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s) AS anon_1, orders
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 441.9s ago] (10,)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 0.03143s ago] (10, 1)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.user_id = %s AND orders.status = %s) AS anon_1
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - [cached since 0.03238s ago] (10, 2)
2026-01-13 23:14:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:30 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:30 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.username = %s
2026-01-13 23:14:30 - sqlalchemy.engine.Engine - INFO - [cached since 450.3s ago] ('user2',)
2026-01-13 23:14:30 - sqlalchemy.engine.Engine - INFO - SELECT members.user_id AS members_user_id, members.id AS members_id, members.member_level AS members_member_level, members.points AS members_points, members.balance AS members_balance, members.expired_at AS members_expired_at, members.created_at AS members_created_at, members.updated_at AS members_updated_at 
FROM members 
WHERE members.user_id IN (%s)
2026-01-13 23:14:30 - sqlalchemy.engine.Engine - INFO - [cached since 450.3s ago] (10,)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [cached since 450.3s ago] (10, 'username', 'user2', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-13 23:14:31 - routers.auth - INFO - 用户登录成功: user2
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [cached since 450.2s ago] (10,)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] {}
2026-01-13 23:14:31 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [cached since 450.2s ago] (10,)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - [cached since 0.03058s ago] {}
2026-01-13 23:14:31 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:31 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - [cached since 458.9s ago] (10,)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - [cached since 8.721s ago] {}
2026-01-13 23:14:39 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - [cached since 458.9s ago] (10,)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - [cached since 8.742s ago] {}
2026-01-13 23:14:39 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:14:39 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - [cached since 558.1s ago] (10,)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - [cached since 107.9s ago] {}
2026-01-13 23:16:19 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - [cached since 558.1s ago] (10,)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - [cached since 107.9s ago] {}
2026-01-13 23:16:19 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:19 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - [cached since 562.3s ago] (10,)
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - [cached since 112.1s ago] {}
2026-01-13 23:16:23 - routers.external_systems - INFO - 用户 user2 查询可访问的外部系统，返回 1 个系统
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:16:23 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:19:10 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:19:10 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:19:10 - sqlalchemy.engine.Engine - INFO - [cached since 730s ago] (10,)
2026-01-13 23:19:10 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-13 23:19:11 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-13 23:19:11 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-13 23:19:11 - sqlalchemy.engine.Engine - INFO - [cached since 730.1s ago] (10,)
2026-01-13 23:19:11 - sqlalchemy.engine.Engine - INFO - ROLLBACK
