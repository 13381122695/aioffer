2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users INNER JOIN user_auths ON users.id = user_auths.user_id 
WHERE user_auths.auth_type = %s AND user_auths.auth_key = %s AND user_auths.is_verified = true
2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - [cached since 5.746e+04s ago] ('email', 'admin@example.com')
2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - [cached since 5.746e+04s ago] (1, 'email', 'admin@example.com', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-11 10:21:16 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-11 10:21:16 - routers.auth - INFO - 用户登录成功: admin
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (0, 6)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] (0, 6)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (datetime.date(2026, 1, 11),)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (2,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (0, 6)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] (0, 6)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.14e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (datetime.date(2026, 1, 11),)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (1,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] ()
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - [cached since 7.06e+04s ago] (2,)
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:17 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - [cached since 7.141e+04s ago] (1,)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] {}
2026-01-11 10:21:22 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - [cached since 7.141e+04s ago] (1,)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - [cached since 7.062e+04s ago] {}
2026-01-11 10:21:22 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:22 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - [cached since 7.141e+04s ago] (1,)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] {'id_1': 1, 'param_1': 1}
2026-01-11 10:21:24 - routers.external_systems - INFO - 外部系统 access_token 发放成功 user_id=1 system_id=1 duration_ms=3
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - [cached since 7.141e+04s ago] (1,)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - [cached since 0.02031s ago] {'id_1': 1, 'param_1': 1}
2026-01-11 10:21:24 - routers.external_systems - INFO - 用户 admin 获取外部系统 曼彻斯特大学研究生专业入学评估系统 的集成配置
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 10:21:24 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users INNER JOIN user_auths ON users.id = user_auths.user_id 
WHERE user_auths.auth_type = %s AND user_auths.auth_key = %s AND user_auths.is_verified = true
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - [cached since 9.644e+04s ago] ('email', 'admin@example.com')
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - INSERT INTO login_logs (user_id, auth_type, identifier, ip, user_agent, success, failure_reason) VALUES (%s, %s, %s, %s, %s, %s, %s)
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - [cached since 9.644e+04s ago] (1, 'email', 'admin@example.com', '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 1, None)
2026-01-11 21:10:58 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-01-11 21:10:58 - routers.auth - INFO - 用户登录成功: admin
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (0, 6)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (0, 6)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (datetime.date(2026, 1, 11),)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (2,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT point_transactions.id AS id, point_transactions.user_id AS user_id, point_transactions.type AS type, point_transactions.points AS points, point_transactions.balance_after AS balance_after, point_transactions.amount AS amount, point_transactions.description AS description, point_transactions.related_id AS related_id, point_transactions.related_type AS related_type, point_transactions.created_at AS created_at, users.username AS username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT point_transactions.id, point_transactions.user_id, point_transactions.type, point_transactions.points, point_transactions.balance_after, point_transactions.amount, point_transactions.description, point_transactions.related_id, point_transactions.related_type, point_transactions.created_at, users.username 
FROM point_transactions LEFT OUTER JOIN users ON users.id = point_transactions.user_id ORDER BY point_transactions.created_at DESC 
 LIMIT %s, %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (0, 6)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders ORDER BY orders.created_at DESC) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT orders.id, orders.order_no, orders.user_id, orders.product_id, orders.product_type, orders.amount, orders.quantity, orders.status, orders.payment_method, orders.payment_time, orders.description, orders.created_at, orders.updated_at 
FROM orders ORDER BY orders.created_at DESC 
 LIMIT %s, %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (0, 6)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE users.status = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT sum(orders.amount) AS sum_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders) AS anon_1, orders
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(users.id) AS count_1 
FROM users 
WHERE date(users.created_at) = %s
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (datetime.date(2026, 1, 11),)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (1,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT sum(members.points) AS sum_1 
FROM members
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] ()
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.id AS id, orders.order_no AS order_no, orders.user_id AS user_id, orders.product_id AS product_id, orders.product_type AS product_type, orders.amount AS amount, orders.quantity AS quantity, orders.status AS status, orders.payment_method AS payment_method, orders.payment_time AS payment_time, orders.description AS description, orders.created_at AS created_at, orders.updated_at AS updated_at 
FROM orders 
WHERE orders.status = %s) AS anon_1
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] (2,)
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:10:59 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] {}
2026-01-11 21:11:06 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - [cached since 1.096e+05s ago] {}
2026-01-11 21:11:06 - routers.external_systems - INFO - 用户 admin 查询可访问的外部系统，返回 1 个系统
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:06 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - [cached since 3.898e+04s ago] {'id_1': 1, 'param_1': 1}
2026-01-11 21:11:07 - routers.external_systems - INFO - 外部系统 access_token 发放成功 user_id=1 system_id=1 duration_ms=1
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.password_hash, users.full_name, users.avatar_url, users.phone, users.status, users.user_type, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %s
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - [cached since 1.104e+05s ago] (1,)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - SELECT external_systems.id AS external_systems_id, external_systems.name AS external_systems_name, external_systems.system_type AS external_systems_system_type, external_systems.page_url AS external_systems_page_url, external_systems.api_key AS external_systems_api_key, external_systems.api_secret AS external_systems_api_secret, external_systems.endpoint_url AS external_systems_endpoint_url, external_systems.config AS external_systems_config, external_systems.is_active AS external_systems_is_active, external_systems.created_at AS external_systems_created_at, external_systems.updated_at AS external_systems_updated_at 
FROM external_systems 
WHERE external_systems.id = %(id_1)s AND external_systems.is_active = true 
 LIMIT %(param_1)s
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - [cached since 3.898e+04s ago] {'id_1': 1, 'param_1': 1}
2026-01-11 21:11:07 - routers.external_systems - INFO - 用户 admin 获取外部系统 曼彻斯特大学研究生专业入学评估系统 的集成配置
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-11 21:11:07 - sqlalchemy.engine.Engine - INFO - ROLLBACK
